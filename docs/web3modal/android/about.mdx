import CloudBanner from '../../components/CloudBanner'
import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'

# Android

## Installation

:::caution
**The Web3Modal SDK is currently in Alpha and is not production-ready**.

It's public API and associated documentation may still see significant and breaking changes.
:::

Kotlin implementation of WalletConnectModal for Android applications.

Android Core ![Maven Central](https://img.shields.io/maven-central/v/com.walletconnect/android-core)

Web3Modal ![Maven Central](https://img.shields.io/maven-central/v/com.walletconnect/web3modal)

### Requirements

- Android min SDK 23
- Java 11

### Installation

root/build.gradle.kts:

```gradle
allprojects {
   repositories {
      mavenCentral()
      maven { url "https://jitpack.io" }
   }
}
```

app/build.gradle.kts

```gradle
implementation(platform("com.walletconnect:android-bom:$BOM_VERSION"))
implementation("com.walletconnect:android-core")
implementation("com.walletconnect:web3modal")
```

###

`Web3Modal` is a singleton that interacts with the WalletConnectModal SDK.

## Initialize

```kotlin
val connectionType = ConnectionType.AUTOMATIC or ConnectionType.MANUAL
val projectId = "" // Get Project ID at https://cloud.walletconnect.com/
val relayUrl = "relay.walletconnect.com"
val serverUrl = "wss://$relayUrl?projectId=${projectId}"
val appMetaData = Core.Model.AppMetaData(
    name = "Kotlin.Web3Modal",
    description = "Kotlin Web3Modal Implementation",
    url = "kotlin.walletconnect.com",
    icons = listOf("https://raw.githubusercontent.com/WalletConnect/walletconnect-assets/master/Icon/Gradient/Icon.png"),
    redirect = "kotlin-web3modal://request"
)

CoreClient.initialize(relayServerUrl = serverUrl, connectionType = connectionType, application = this, metaData = appMetaData)

Web3Modal.initialize(
    init = Modal.Params.Init(CoreClient),
    onSuccess = {
        // Callback will be called if initialization is successful
     },
    onError = { error ->
        // Error will be thrown if there's an issue during initialization
    }
)
```

## Chains

```kotlin
val ethereumMethods = listOf(
    "eth_sendTransaction",
    "personal_sign",
    "eth_sign",
    "eth_signTypedData"
)

val ethereumEvents = listOf("chainChanged", "accountsChanged")

val ethereumChain = Modal.Model.Chain(
    chainName = "Ethereum",
    chainNamespace = "eip155",
    chainReference = "1",
    methods = ethereumMethods,
    events = ethereumEvents
)

val chains = listOf(ethereumChain)

Example of definition chains: https://github.com/WalletConnect/WalletConnectKotlinV2/blob/develop/sample/modal/src/main/kotlin/com/walletconnect/sample/modal/Chains.kt

Web3Modal.setChains(chains)
```

**IMPORTANT**: `Chains` must be set before opening the modal.
